(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["components-access~components-payment"],{"0ea9":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"setPin-container"},[e("topHeader",{attrs:{pageTitle:"Set Payment PIN",onGoBack:"",blankOperation:""},on:{onGoBack:t.handleGoBackClick}}),e("div",{staticClass:"content"},[e("img",{staticClass:"icon_payment",attrs:{src:i("bf66")}}),e("div",{staticClass:"hd"},[t._v("Set Payment PIN")]),e("div",{staticClass:"confirm-pin",attrs:{id:"confirm-pin"}},[e("div",{staticClass:"icon_eye",on:{click:t.onEye}},[t.mask?e("img",{staticClass:"eye_close",attrs:{src:i("b42e3")}}):e("img",{staticClass:"eye_open",attrs:{src:i("56ad")}})]),e("div",{staticClass:"title"},[t._v("Set Payment PIN")]),e("p",{staticClass:"tip"},[t._v("(4 digits)")]),e("van-password-input",{staticClass:"van-password-input-4",attrs:{value:t.value,mask:t.mask,length:4,gutter:15,focused:t.showKeyboard&&1===t.index},on:{focus:function(e){return t.onFocus(1)}}}),e("div",{staticClass:"title confirm_title"},[t._v("Confirm Payment PIN")]),e("van-password-input",{staticClass:"van-password-input-4",class:{error:t.errorInfo},attrs:{id:"confirm-input",value:t.confirmValue,mask:t.mask,length:4,gutter:15,"error-info":t.errorInfo,focused:t.showKeyboard&&2===t.index},on:{focus:function(e){return t.onFocus(2)}}}),e("van-number-keyboard",{attrs:{id:"keyboard",show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:t.onBlur}})],1),e("button",{staticClass:"button",class:{diabled:!t.isCanSubmit},on:{click:t.submitPin}},[t._v(" Confirm ")])])],1)},a=[],s=i("c7eb"),o=i("1da1"),r=(i("fb6a"),i("0418")),c={name:"set-pin",data:function(){return{index:0,value:"",confirmValue:"",showKeyboard:!1,errorInfo:"",mask:!0,isCanSubmit:!1}},computed:{token:function(){return this.$store.getters.getToken},userInfo:function(){return this.$store.getters.getUserInfo}},components:{topHeader:r["a"]},mounted:function(){},methods:{onEye:function(){this.mask=!this.mask},onFocus:function(t){this.showKeyboard=!0,this.index=t},onBlur:function(){this.showKeyboard=!1,this.index=0},validate:function(){4===this.value.length&&4===this.confirmValue.length?this.value!==this.confirmValue?this.errorInfo="Your confirm pin and new pin do not match.":(this.errorInfo="",this.isCanSubmit=!0):this.isCanSubmit=!1},onInput:function(t){1===this.index&&(this.value=(this.value+t).slice(0,4)),2===this.index&&(this.confirmValue=(this.confirmValue+t).slice(0,4)),this.validate(),4===this.value.length&&4===this.confirmValue.length&&this.value===this.confirmValue&&this.onBlur()},onDelete:function(){1===this.index&&(this.value=this.value.slice(0,this.value.length-1)),2===this.index&&(this.confirmValue=this.confirmValue.slice(0,this.confirmValue.length-1)),this.validate()},submitPin:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var i;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isCanSubmit){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,t.$axios({method:"post",url:"/h5-server/api/saveOrUpdatePaymentPin",data:{phoneNumber:t.userInfo.mobile,paymentPin:t.value,refreshToken:t.$route.query.refreshToken}});case 5:return i=e.sent,i=i&&i.data||{},200==i.code&&i.data?i.data.setPinResult?t.$dialog.alert({message:i.data.setPinTips}).then((function(){t.$emit("onSubmit")})):t.$toast(i.data.setPinTips):t.$toast(i.message),e.abrupt("return",!1);case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},handleGoBackClick:function(){this.$emit("onClose")}}},d=c,l=(i("b4bd"),i("2877")),u=Object(l["a"])(d,n,a,!1,null,"6ab7c55a",null);e["a"]=u.exports},1793:function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"verification-container"},[e("topHeader"),e("div",{staticClass:"verification-content"},[e("div",{staticClass:"title-module"},[t._v(" To verify the transaction, enter the phone number used to setup the bank account attached with the card. ")]),e("div",{staticClass:"form-module"},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"item-label"},[t._v("Phone number")]),e("div",{staticClass:"item-inner"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"inner-input",attrs:{type:"text",placeholder:"Phone number"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.handleInput]}})]),e("div",{staticClass:"item-error"},[t._v(" "+t._s(t.errorMsg)+" ")])])]),e("div",{staticClass:"operation-module"},[e("div",{staticClass:"operation-item",class:[t.setBtnClass()],on:{click:t.handleVerify}},[t._v(" Complete verification ")])])])],1)},a=[],s=(i("d3b7"),i("25f0"),i("0418")),o={components:{topHeader:s["a"]},props:{orderNo:{type:String,default:""}},data:function(){return{phone:"",errorMsg:"",verifyBtnDisibled:!0,requestState:!1}},computed:{},watch:{},mounted:function(){this.load()},destroyed:function(){this.clear()},methods:{load:function(){this.$store.commit("setPaymentVerifyLoading",!1)},clear:function(){this.$store.commit("setPaymentVerifyLoading",!1)},handleGoBackClick:function(){this.$emit("onClose")},handleInput:function(){this.verifyBtnDisibled=!this.phone},setBtnClass:function(){return this.requestState||this.verifyBtnDisibled?"":this.phone?"successful":""},handleVerify:function(){var t=this;this.verifyBtnDisibled||this.requestState||(this.$store.commit("setPaymentVerifyLoading",!0),this.verifyBtnDisibled=!0,this.requestState=!0,this.errorMsg="",this.$axios.post("/apiOpay/api/order/orderInputPhone",{id:this.orderNo,phone:this.phone}).then((function(e){"00000"==e.data.code?t.$emit("onSubmit",{xxx:"phone"}):t.errorMsg=e.data.message,t.requestState=!1,t.$store.commit("setPaymentVerifyLoading",!1)})).catch((function(e){t.errorMsg=e.toString(),t.requestState=!1,t.$store.commit("setPaymentVerifyLoading",!1)})))}}},r=o,c=(i("8ced"),i("2877")),d=Object(c["a"])(r,n,a,!1,null,"6f4e4ebf",null);e["a"]=d.exports},"1f6b":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"create-order-container"},[t.dialogVisible.paymentPIN?e("PaymentPIN",{attrs:{verifyPaymentPin:t.verifyPaymentPin},on:{onSubmit:t.handlePaymentPINSubmit,onClose:t.handlePaymentPINClose}}):t._e(),t.dialogVisible.setPin?e("SetPin",{on:{onClose:t.handleSetPinClose,onSubmit:t.handleSetPinSubmit}}):t._e(),t.dialogVisible.cardCVV?e("VerifyCVV",{on:{onSubmit:t.handleCardCVVSubmit,onClose:t.handleCardCVVClose}}):t._e(),"otp"==t.verifyModule?e("VerifyOTP",{attrs:{orderNo:t.paymentOrder.orderNo,payChannel:t.orderParam.instruments[0].payChannel},on:{onClose:t.handleBackVerifyClose,onSubmit:t.handleVerifyOTPSuccess}}):t._e(),"phone"==t.verifyModule?e("VerifyPhone",{attrs:{orderNo:t.paymentOrder.orderNo},on:{onClose:t.handleBackVerifyClose,onSubmit:t.handleVerifyPhoneSuccess}}):t._e(),"pin"==t.verifyModule?e("VerifyPIN",{attrs:{orderNo:t.paymentOrder.orderNo},on:{onClose:t.handleBackVerifyClose,onSubmit:t.handleVerifyPINSuccess}}):t._e(),"3ds"==t.verifyModule?e("DsPaymentCompletedDialog",{on:{onSubmit:t.getOrderStatus,onCancel:t.redirectLifeChannelPage}}):t._e(),t.paymentVerifyLoading?e("PaymentProcessingDialog"):t._e()],1)},a=[],s=i("5530"),o=(i("d3b7"),i("25f0"),i("2ca0"),i("ac1f"),i("00b4"),i("14d9"),i("22fe")),r=i("0ea9"),c=i("8fbc"),d=i("a60c"),l=i("1793"),u=i("ff41"),m=i("8c63"),h=i("dbff"),f=i("f2bd"),p={components:{PaymentPIN:o["a"],SetPin:r["a"],VerifyCVV:c["a"],VerifyOTP:d["a"],VerifyPhone:l["a"],VerifyPIN:u["a"],DsPaymentCompletedDialog:m["a"],PaymentProcessingDialog:h["a"]},props:{orderParam:{type:Object,default:function(){return{}}}},data:function(){return{internalService:["airtime","data","betting","tv","electricity"],externalService:["internet"],serviceTypeMap:{airtime:"Airtime",betting:"Betting",data:"Data",electricity:"Electricity",tv:"TV"},currencyMap:{GHS:"₵",KES:"KSh",NGN:"₦"},cashierParam:{expireTime:0,isUseAutoOptimal:!0,isWithhold:!1,orderNo:"",payChannel:"BankCard",payMethod:"",voucherId:"",customcardPayment:{cardId:"",skipCCV:!1}},cashier:{payChannel:"",amount:{currency:"",value:""},customPayPIN:""},verifyModule:"",verifyPaymentPin:!0,verifyPaymentPinStatus:!1,payParam:{},paymentOrder:{},dialogVisible:{cardCVV:!1,paymentPIN:!1,setPin:!1},payBtnDisibled:!0,timer:null,pollingOrderCount:0,pollingOrderTimes:[800,1600,3200,6400,12800,12800,12800,12800]}},computed:{paymentVerifyLoading:function(){return this.$store.state.paymentVerifyLoading}},mounted:function(){this.createOrder()},destroyed:function(){this.clear()},methods:{clear:function(){this.$store.commit("setAjaxLoading",!1),clearTimeout(this.timer)},mergeParam:function(){var t=Object(s["a"])({pin:this.verifyPaymentPin?"":this.cashier.customPayPIN,paymentPin:this.verifyPaymentPin?this.cashier.customPayPIN:""},this.orderParam);return this.payParam=t,t},paymentRedirect:function(){return Object(f["h"])("paymentRedirectPage")&&0===Object(f["h"])("paymentRedirectPage").indexOf("/")?Object(f["h"])("paymentRedirectPage"):"/utility payments"},createOrder:function(){var t=this;this.mergeParam(),this.$axios({method:"post",url:"/apiOpay/api/order/v2/pin/createOrder",data:this.payParam}).then((function(e){"00000"==e.data.code?(t.paymentOrder=e.data.data,t.getOrderStatus()):t.$emit("onError",e.data.message),t.verifyPaymentPinStatus=!1,t.cashier.customPayPIN="",t.cashier.customPayCardCVV=""})).catch((function(e){t.verifyPaymentPinStatus=!1,t.cashier.customPayPIN="",t.cashier.customPayCardCVV="",t.$store.commit("setAjaxLoading",!1),t.$emit("onError",e.toString())}))},handlePaymentPINSubmit:function(t){this.cashier.customPayPIN=t,this.verifyPaymentPinStatus=!0,this.createOrder()},handlePaymentPINClose:function(t){this.dialogVisible.paymentPIN=!1,t?this.dialogVisible.setPin=!0:this.$emit("onClose")},handleSetPinClose:function(){this.dialogVisible.setPin=!1,this.$emit("onClose")},handleSetPinSubmit:function(){this.dialogVisible.setPin=!1,this.dialogVisible.paymentPIN=!0},handleCardCVVSubmit:function(t){this.cashier.customPayCardCVV=t,this.dialogVisible.cardCVV=!1,this.createOrder()},handleCardCVVClose:function(){this.dialogVisible.cardCVV=!1,this.$emit("onClose")},handleBackVerifyClose:function(){this.verifyModule=""},handleVerifyOTPSuccess:function(t){this.getOrderStatus()},handleVerifyPhoneSuccess:function(t){this.getOrderStatus()},handleVerifyPINSuccess:function(t){this.getOrderStatus()},getOrderStatus:function(){var t=this;this.verifyModule="",this.$store.commit("setPaymentVerifyLoading",!0),this.$axios.post("/apiOpay/api/order/v2/orderStatus",{id:this.paymentOrder.orderNo}).then((function(e){if(t.$store.commit("setPaymentVerifyLoading",!1),"00000"===e.data.code){var i=e.data.data,n=i.closed,a=i.failed,s=i.type,o=i.message;t.paymentOrder.paymentType=s;var r={orderNo:t.paymentOrder.orderNo,status:"",message:"",source:"addbank",isVerifyPollingOrderCount:!0},c="gatewayCommit"===t.cashierParam.serviceType;if(n||a)r.status="failed",r.message=o||"The payment failed, try again later",t.redirectStatusPage(r);else switch(s){case"Complete":c?window.onPaymentResult&&window.onPaymentResult():t.redirectStatusPage(r);break;case"PaymentCommitOTP":t.pollingOrderCount=0,t.verifyModule="otp";break;case"PaymentCommitPhone":t.pollingOrderCount=0,t.verifyModule="phone";break;case"PaymentPlaceOrderPIN":t.pollingOrderCount=0,t.verifyModule="pin";break;case"PaymentCommitExt3DS":clearInterval(t.timer),t.verifyModule="3ds",t.pollingOrderCount=0,localStorage.setItem("opay-cashier-url",location.href),t.get3DSRedirectPage(r);break;case"PaymentAwaitCallback":c?window.onPaymentResult&&window.onPaymentResult():function(){r.isVerifyPollingOrderCount=!1,t.pollingOrderStatus(r)}();break;case"PaymentPlaceOrder":c?window.onPaymentResult&&window.onPaymentResult():t.pollingOrderStatus(r);break;case"CardPending":c?t.paymentOrder.orderNo.startsWith("CARD:")?function(){r.status="failed",t.pollingOrderStatus(r)}():window.onPaymentResult&&window.onPaymentResult():function(){r.status="failed",t.pollingOrderStatus(r)}();break;case"TopupPlaceOrder":(function(){r.status="failed",t.pollingOrderStatus(r)})();default:}}else t.$emit("onError",e.data.message)})).catch((function(e){t.$store.commit("setPaymentVerifyLoading",!1),t.$emit("onError",e.toString())}))},pollingOrderStatus:function(t){var e=this,i=t.orderNo,n=t.status,a=t.source,s=t.isVerifyPollingOrderCount;if(s&&this.pollingOrderCount==this.pollingOrderTimes.length-1)return this.redirectStatusPage({orderNo:i,status:n,source:a});clearTimeout(this.timer),this.$store.commit("setPaymentVerifyLoading",!0),this.timer=setTimeout((function(){e.pollingOrderCount>=e.pollingOrderTimes.length?e.pollingOrderCount=e.pollingOrderTimes.length-1:e.pollingOrderCount++,e.getOrderStatus()}),this.pollingOrderTimes[this.pollingOrderCount||0])},get3DSRedirectPage:function(){var t=this;this.$axios.post("/apiOpay/api/order/order3DSecure",{id:this.paymentOrder.orderNo}).then((function(e){"00000"==e.data.code?/^http/.test(e.data.data)?e.data.data&&window.open(e.data.data):(document.write(e.data.data),document.close()):t.$emit("onError",e.data.messsage)}))},redirectStatusPage:function(t){var e=t.orderNo,i=t.status,n=t.message,a=t.isAdvanceService,s=t.source;this.$router.push({name:"payment-status",query:{status:i,orderNo:e,message:n,isAdvanceService:a,source:s,serviceType:this.cashierParam.serviceType}})},redirectLifeChannelPage:function(){this.redirectPage(Object(f["h"])("paymentRedirectPage")||"utility payments")},redirectPage:function(t){this.$router.push({name:t})}}},v=p,y=i("2877"),g=Object(y["a"])(v,n,a,!1,null,"9c1ef452",null);e["a"]=g.exports},"1f77":function(t,e,i){},"22fe":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return t.showPinDialog?e("div",{staticClass:"payment-pin-container"},[e("div",{staticClass:"payment-pin-padding-module"}),e("div",{staticClass:"payment-pin-module"},[e("div",{staticClass:"title-module"},[e("span",{staticClass:"title-text"},[t._v("Enter Payment PIN")]),e("span",{staticClass:"title-close",on:{click:t.handleClose}})]),e("div",{staticClass:"error-msg-module"},[t._v(" "+t._s(t.errorMsg)+" ")]),e("van-password-input",{class:"van-password-input-"+t.bankCardOtpLength,attrs:{value:t.pin,length:t.bankCardOtpLength,gutter:15,focused:""}}),e("van-number-keyboard",{attrs:{show:"","hide-on-click-outside":!1},on:{input:t.onInput,delete:t.onDelete,blur:t.onBlur}})],1)]):t._e()},a=[],s=(i("fb6a"),i("ee96")),o={mixins:[s["a"]],components:{},props:{verifyPaymentPin:{type:Boolean,default:!1}},data:function(){return{pin:"",bankCardOtpLength:4,errorMsg:""}},computed:{userInfo:function(){return this.$store.getters.getUserInfo||{}}},watch:{},mounted:function(){this.load()},destroyed:function(){this.clear()},methods:{load:function(){this.$store.commit("setAjaxLoading",!1),this.bankCardOtpLength=this.verifyPaymentPin?4:6},clear:function(){this.$store.commit("setAjaxLoading",!1)},handleClose:function(){this.$emit("onClose")},onInput:function(t){this.pin=(this.pin+t).slice(0,4),4===this.pin.length&&this.verificationPaymentPIN()},onBlur:function(t){this.$emit("onClose")},onDelete:function(){this.pin=this.pin.slice(0,this.pin.length-1)}}},r=o,c=(i("2ce3"),i("2877")),d=Object(c["a"])(r,n,a,!1,null,"15888906",null);e["a"]=d.exports},"2ca0":function(t,e,i){"use strict";var n=i("23e7"),a=i("e330"),s=i("06cf").f,o=i("50c4"),r=i("577e"),c=i("5a34"),d=i("1d80"),l=i("ab13"),u=i("c430"),m=a("".startsWith),h=a("".slice),f=Math.min,p=l("startsWith"),v=!u&&!p&&!!function(){var t=s(String.prototype,"startsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!v&&!p},{startsWith:function(t){var e=r(d(this));c(t);var i=o(f(arguments.length>1?arguments[1]:void 0,e.length)),n=r(t);return m?m(e,n,i):h(e,i,i+n.length)===n}})},"2ce3":function(t,e,i){"use strict";i("9d4f")},3687:function(t,e,i){"use strict";i("1f77")},"502c":function(t,e,i){},"56ad":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAARCAYAAADHeGwwAAAAAXNSR0IArs4c6QAAA5tJREFUOBF9VW9oW1UUP+e+Jl06UlbaMdeCW0WpOMTiFGH6wYIoFPzgBzPTDKHqfC3TTZyIaxxMtKnbqjKrNK9uw2rSQoeVsboxhgO/TDc6BAVRNr/UDxMbVuximqbJO/7ue7mhS6MX+s6/3/lzzz0nZfqf83HqbGM2u/CskDxJxJ2AbiIhl1huQJ4FPd8abJvu7e3K/1cYrmXQgRezCweZxBahcC2M0THxPJIdC2/ZMLy3u3vZ6A1dk2BoLP2E68oXCLzZgEBdZv6JROaIyYLcDvt9q+zIwdesOrXzwEvRH1frb0sw6KR60ILP4RwogxZR4UfcEBoJ8Pp8KZfZrvVWQ8tVdznbVCzl30D7bPis03pmugXrM/G+6Lda1kf5hCiRnHidhFMmODKftBp5a7w/dsjNLUWXc/OZosh3+q/wT+ZoqC00H++LvUYSvBuhZ3Qc+IbxRGcHx9LPmbjeDQaT6edFZFwr0QphkbcG+ncd0XJiNLXbJRrTvD6ocm7AjrUD5zrObMC2H1qBr0o4Ex+C7vMxXELtT+mbqCPJ9D24YtLzxgdV7DXBp6amgi6Tl8jYgV0/cu6c18KM/PpBOaDr3YZ5WMtIZJG4k8PORItaETqGPoa8AMyn3u6PfeLx+Py+WNqGgBuMrKkQNd+aW/jhvWTqPIp59fCJyVZjf7Sj9QD4Sz5ONuaFEgpT8aABWMRfG15Ttygtq2XDo8JOZMJu6GNVxrirq6uolDrj69FOkocVqj9kFK7Ip8PH01uMHKiv+9nwtSgmbKk9TNeNbeiz9HbEeMfIrOSgituxMTzYBa1EsqZ8UU4POl95O/Bmb+RP2E4bhzWU5XgkEsGDEh0+MdXhlmQaDxAs48YHXt41o/Q01DP3QPmbZxB6QNz85fed1P1arrPWvVKxeQD/g2m6XBcIx7U0NDr5eLGw8j3e5M4y5FJDc7Bf896YaiYxPt0sS7lvAHpEy7Dk0IIRDoWONucDSxn5e58QPwaHAowXd3RsHr1y/eYdWDYkkRfhV15OntmoGnfa9tM5P4wXzf84zpmGeVk8hWt2G7W/nfSlKHXRIjWnZx57cperfwCFomhrfQWL5dxxb5utH3uVzrA+xexb126uoC3yLqqqTMjtqDXSX8xqf7yvJ1VtqbSo2qCXpCDSh7nH9WVrtV3LuN0vwuw0NQVO7olEsjUxtZTVOr3tBaZO/CfYhKjoDt8I1dPs/heif1Rjq+V/AW7Sd96+8bgIAAAAAElFTkSuQmCC"},"6d1d":function(t,e,i){},"8c63":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sds-payment-completed-container"},[e("div",{staticClass:"sds-payment-completed-dialog"},[e("div",{staticClass:"dialog-title-module"},[t._v("Verifying on the bank's page")]),t._m(0),e("div",{staticClass:"dialog-operation-module"},[e("div",{staticClass:"operation-item successful",on:{click:t.handleSubmit}},[t._v(" Yes, done ")]),e("div",{staticClass:"operation-item",on:{click:t.handleCancel}},[t._v("I didn’t pay")])])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"dialog-description-module"},[e("div",{staticClass:"description-text"},[t._v(" Have you been verified in the bank page? ")])])}],s={components:{},props:{},data:function(){return{}},computed:{},watch:{},mounted:function(){this.load()},destroyed:function(){this.clear()},methods:{load:function(){this.$store.commit("setAjaxLoading",!1)},clear:function(){this.$store.commit("setAjaxLoading",!1)},handleSubmit:function(){this.$emit("onSubmit")},handleCancel:function(){this.$emit("onCancel")}}},o=s,r=(i("a6ae"),i("2877")),c=Object(r["a"])(o,n,a,!1,null,"4d416469",null);e["a"]=c.exports},"8ced":function(t,e,i){"use strict";i("d523")},"8fbc":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"verification-container"},[e("topHeader",{attrs:{pageTitle:"CVV verification",onGoBack:"",blankOperation:""},on:{onGoBack:t.handleGoBackClick}}),e("div",{staticClass:"verification-content"},[e("div",{staticClass:"title-module"},[t._v(" Enter the CVV code for the card to complete the transaction. ")]),e("div",{staticClass:"form-module"},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"item-label"},[t._v("Code from CVV")]),e("div",{staticClass:"item-inner"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cvv,expression:"cvv"}],staticClass:"inner-input",attrs:{type:"text",placeholder:"CVV..."},domProps:{value:t.cvv},on:{input:[function(e){e.target.composing||(t.cvv=e.target.value)},t.handleInput]}})]),e("div",{staticClass:"item-error"},[t._v(" "+t._s(t.errorMsg)+" ")])])]),e("div",{staticClass:"operation-module"},[e("div",{staticClass:"operation-item",class:[t.setBtnClass()],on:{click:t.handleVerify}},[t._v(" Complete verification ")])])])],1)},a=[],s=i("0418"),o={components:{topHeader:s["a"]},props:{},data:function(){return{cvv:"",errorMsg:""}},computed:{},watch:{},mounted:function(){this.load()},destroyed:function(){this.clear()},methods:{load:function(){},clear:function(){},handleGoBackClick:function(){this.$emit("onClose")},handleInput:function(){this.verifyBtnDisibled=!this.cvv},setBtnClass:function(){return this.verifyBtnDisibled?"":this.cvv?"successful":""},handleVerify:function(){this.verifyBtnDisibled||this.$emit("onSubmit",this.cvv)}}},r=o,c=(i("f8f8"),i("2877")),d=Object(c["a"])(r,n,a,!1,null,"99063dfa",null);e["a"]=d.exports},"9d4f":function(t,e,i){},a60c:function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"verification-container"},[e("topHeader",{attrs:{pageTitle:"OTP verification",onGoBack:"",blankOperation:""},on:{onGoBack:t.handleGoBackClick}}),e("div",{staticClass:"verification-content"},[e("div",{staticClass:"title-module"},[t._v(" Either your bank will send you an SMS with a one time code or you have to enter the code from your hardware token to verify the transaction. ")]),e("div",{staticClass:"form-module"},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"item-label"},[t._v("Code from SMS")]),e("div",{staticClass:"item-inner"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp,expression:"otp"}],staticClass:"inner-input custom-button-send",attrs:{type:"text",placeholder:"Code..."},domProps:{value:t.otp},on:{input:[function(e){e.target.composing||(t.otp=e.target.value)},t.handleInput]}}),"BankAccount"!==t.payChannel?e("span",{staticClass:"inner-custom-button-send",on:{click:t.handleResendOTP}},[t._v(" "+t._s(t.countDownState?t.countDownNumber+" s":"Send again")+" ")]):t._e()]),e("div",{staticClass:"item-error"},[t._v(" "+t._s(t.errorMsg)+" ")])])]),e("div",{staticClass:"operation-module"},[e("div",{staticClass:"operation-item",class:[t.setBtnClass()],on:{click:t.handleVerify}},[t._v(" Complete verification ")])])])],1)},a=[],s=(i("d3b7"),i("25f0"),i("0418")),o={components:{topHeader:s["a"]},props:{orderNo:{type:String,default:""},payChannel:{type:String,default:""}},data:function(){return{otp:"",errorMsg:"",countDownState:!1,countDownNumber:0,verifyBtnDisibled:!0,requestState:!1}},computed:{},watch:{},mounted:function(){this.load()},destroyed:function(){this.clear()},methods:{load:function(){this.$store.commit("setPaymentVerifyLoading",!1)},clear:function(){this.$store.commit("setPaymentVerifyLoading",!1)},handleGoBackClick:function(){this.$emit("onClose")},handleInput:function(){this.verifyBtnDisibled=!this.otp},handleResendOTP:function(){var t=this;this.countDownState||(this.errorMsg="",this.countDownState=!0,this.$axios.post("/apiOpay/api/order/v2/resendOtp",{id:this.orderNo}).then((function(e){if("00000"==e.data.code){var i=10;t.countDownNumber=i,t.timer(i,(function(e){e?t.countDownNumber=e:t.countDownState=!1}))}else t.errorMsg=e.data.message,t.countDownState=!1})))},timer:function(t,e){var i=this,n=setInterval((function(){t--,t<=0&&(i.countDownState=!1,clearInterval(n)),e&&"function"===typeof e&&e(t)}),1e3)},setBtnClass:function(){return this.requestState||this.verifyBtnDisibled?"":this.otp?"successful":""},handleVerify:function(){var t=this;this.verifyBtnDisibled||this.requestState||(this.$store.commit("setPaymentVerifyLoading",!0),this.verifyBtnDisibled=!0,this.requestState=!0,this.errorMsg="",this.$axios.post("/apiOpay/api/order/orderInputOTP",{id:this.orderNo,otp:this.otp}).then((function(e){"00000"==e.data.code?t.$emit("onSubmit",{xxx:123}):t.errorMsg=e.data.message,t.requestState=!1,t.$store.commit("setPaymentVerifyLoading",!1)})).catch((function(e){t.errorMsg=e.toString(),t.requestState=!1,t.$store.commit("setPaymentVerifyLoading",!1)})))}}},r=o,c=(i("f588"),i("2877")),d=Object(c["a"])(r,n,a,!1,null,"28bce8b0",null);e["a"]=d.exports},a6ae:function(t,e,i){"use strict";i("502c")},ae9d:function(t,e,i){"use strict";i("b70e")},b294:function(t,e,i){},b42e3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAALCAYAAABlNU3NAAAAAXNSR0IArs4c6QAAAdpJREFUOBGtUc9LlFEUPffNTCLlwkKhTWm6CiGkjZs2hcK0CRIqP2YnOjMgSK3Ub+s3BW1KF37GFBiNiuYPjKYkpL0LEf8BxaXCiASKzXzvdt/YGxwNwfRt7r3nnnvOe+9SaiTzVgOPKMRJtzv2DRdwPH/iAaDTDPqhmNAG8E1oTL/yJ++cVz/lT90GgjlmriNwqwJUD0AFZlwOUFjwRmeu/6/J64+ztcz5L6JVJRpagZLKTXQsEdELIyqNG6z3V713n6JnNfH88dbfe3urDL5lZkmpvv6E852s0OBIxiNCvzxN/Eh4eI8wDbtdzprl/Ct66ckmBIUeMHWbWcNRhDcDidhzk5cMTFG8eUBjol5janPEbFlYWTFcDwEbOqSYA11PoDpmHWWgpUg8JOcUUedA3Jm3WJmBAV+mJ5qDfLBiCWeJpMJ33fizsllZcvkR8V6LiPsH+bavUm9ZrBSJcvKKRanHSpgOkqX8bxI+DsifNJhtG2E3Eeu0/ZSfeayZZ0wtC+xy407a9gb9TI3MPGTiRovZeMKg8pJyDvJ8P1J57bMlmSh/uyUGRUiWuX20V3018nR3p9AeUhVLR3GTn9jBcYKth7LZil+bOz/F4kqYIvf64k92be+0+AfH/Kv6D/+T7AAAAABJRU5ErkJggg=="},b4bd:function(t,e,i){"use strict";i("6d1d")},b70e:function(t,e,i){},bf66:function(t,e){t.exports="data:image/png;base64,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"},c233:function(t,e,i){},d523:function(t,e,i){},dbff:function(t,e,i){"use strict";var n=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"payment-processing-contaier"},[e("div",{staticClass:"payment-processing-module"},[e("div",{staticClass:"payment-processing-funnel-module"})])])}],s=(i("ae9d"),i("2877")),o={},r=Object(s["a"])(o,n,a,!1,null,"4e9fb212",null);e["a"]=r.exports},f588:function(t,e,i){"use strict";i("b294")},f8f8:function(t,e,i){"use strict";i("c233")},ff41:function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"verification-container"},[e("topHeader",{attrs:{pageTitle:"Card PIN verification",onGoBack:"",blankOperation:""},on:{onGoBack:t.handleGoBackClick}}),e("div",{staticClass:"verification-content"},[e("div",{staticClass:"title-module"},[t._v(" Enter the PIN code for the card to complete the transaction. ")]),e("div",{staticClass:"form-module"},[e("div",{staticClass:"form-item"},[e("div",{staticClass:"item-label"},[t._v("PIN code")]),e("div",{staticClass:"item-inner"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pin,expression:"pin"}],staticClass:"inner-input",attrs:{type:"text",placeholder:"PIN..."},domProps:{value:t.pin},on:{input:[function(e){e.target.composing||(t.pin=e.target.value)},t.handleInput]}})]),e("div",{staticClass:"item-error"},[t._v(" "+t._s(t.errorMsg)+" ")])])]),e("div",{staticClass:"operation-module"},[e("div",{staticClass:"operation-item",class:[t.setBtnClass()],on:{click:t.handleVerify}},[t._v(" Complete verification ")])])])],1)},a=[],s=(i("d3b7"),i("25f0"),i("0418")),o={components:{topHeader:s["a"]},props:{orderNo:{type:String,default:""}},data:function(){return{pin:"",errorMsg:"",verifyBtnDisibled:!0,requestState:!1}},computed:{},watch:{},mounted:function(){this.load()},destroyed:function(){this.clear()},methods:{load:function(){this.$store.commit("setPaymentVerifyLoading",!1)},clear:function(){this.$store.commit("setPaymentVerifyLoading",!1)},handleGoBackClick:function(){this.$emit("onClose")},handleInput:function(){this.verifyBtnDisibled=!this.pin},setBtnClass:function(){return this.requestState||this.verifyBtnDisibled?"":this.pin?"successful":""},handleVerify:function(){var t=this;this.verifyBtnDisibled||this.requestState||(this.$store.commit("setPaymentVerifyLoading",!0),this.verifyBtnDisibled=!0,this.requestState=!0,this.errorMsg="",this.$axios.post("/apiOpay/api/order/orderInputPIN",{id:this.orderNo,pin:this.pin}).then((function(e){"00000"==e.data.code?t.$emit("onSubmit",{xxx:"pin"}):t.errorMsg=e.data.message,t.requestState=!1,t.$store.commit("setPaymentVerifyLoading",!1)})).catch((function(e){t.errorMsg=e.toString(),t.requestState=!1,t.$store.commit("setPaymentVerifyLoading",!1)})))}}},r=o,c=(i("3687"),i("2877")),d=Object(c["a"])(r,n,a,!1,null,"68f39e4a",null);e["a"]=d.exports}}]);